{"version":3,"sources":["video_aqua.js"],"names":["window","requirejs","e","t","n","i","a","ajax","type","url","data","training_user_id","u","course_id","course_list_id","done","success","console","error","msg","o","location","href","f","r","l","removeClass","_","addClass","s","delete","params","video_id","then","catch","d","c","parent","attr","g","m","videoUrl","trainingUserId","courseId","courseListId","videoId","videoStatus","totalPlayedSeconds","setTimeout","start","countdown","startValues","seconds","html","getTimeValues","toString","addEventListener","alert","all","spread","reload","on","reset","startPlayer","preventDefault"],"mappings":"YAAAA,QAAOC,WAAW,SAAS,QAAQ,sBAAsB,YAAY,eAAe,SAASC,EAAEC,EAAEC,EAAEC,GAAG,QAASC,KAAIJ,EAAEK,MAAMC,KAAK,OAAOC,IAAI,yBAAyBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,SAASC,QAAQC,MAAMhB,EAAEiB,OAAO,QAASC,KAAIlB,EAAEK,MAAMC,KAAK,OAAOC,IAAI,uBAAuBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,QAAQhB,OAAOqB,SAASC,KAAKC,EAAEN,QAAQC,MAAMhB,EAAEiB,OAAO,QAASK,KAAI,SAASZ,EAAEF,KAAK,YAAYe,EAAEC,YAAY,SAASC,EAAEC,SAAS,UAAU,QAASC,KAAI,MAAO1B,GAAE2B,OAAO,cAAcC,QAAQC,SAASpB,EAAEF,KAAK,SAASuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,QAASiC,KAAI,MAAOhC,GAAE2B,OAAO,gBAAgBC,QAAQpB,iBAAiBC,EAAEF,KAAK,oBAAoBI,eAAeF,EAAEF,KAAK,qBAAqBuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,GAAIU,GAAEV,EAAE,gBAAgBkC,EAAElC,EAAE,mBAAmBuB,EAAEvB,EAAE,kBAAkBqB,EAAEE,EAAEY,SAASC,KAAK,QAAQX,EAAEzB,EAAE,qBAAqBqC,EAAErC,EAAE,sBAAsBsC,EAAE,GAAInC,EAAEH,GAAE,WAAW,GAAIG,IAAGoC,SAAS,iBAAiBC,eAAe9B,EAAEF,KAAK,oBAAoBiC,SAAS/B,EAAEF,KAAK,aAAakC,aAAahC,EAAEF,KAAK,kBAAkBmC,QAAQjC,EAAEF,KAAK,MAAMoC,YAAYlC,EAAEF,KAAK,UAAUqC,mBAAmBnC,EAAEF,KAAK,cAAeN,GAAE,GAAIA,GAAEC,GAAG,KAAKO,EAAEF,KAAK,aAAaR,EAAE,UAAUwB,YAAY,SAASsB,WAAW,WAAWR,EAAES,OAAOC,WAAU,EAAGC,aAAaC,QAAQ,MAAMb,EAAEc,KAAKb,EAAEc,gBAAgBC,WAAW,+BAA+Bf,EAAEgB,iBAAiB,iBAAiB,SAAStD,GAAGqC,EAAEc,KAAKb,EAAEc,gBAAgBC,WAAW,iCAAiCf,EAAEgB,iBAAiB,iBAAiB,SAAStD,GAAGqC,EAAEc,KAAK,iBAAiBL,WAAW,WAAWhD,OAAOyD,MAAM,yDAAyDtD,EAAEuD,KAAK7B,IAAIM,MAAMF,KAAK9B,EAAEwD,OAAO,SAASzD,EAAEC,GAAGH,OAAOqB,SAASuC,aAAa,QAAQ,MAAMpC,MAAMY,EAAEyB,GAAG,QAAQ,WAAWrB,EAAEsB,QAAQxD,IAAIF,EAAE2D,gBAAgBtC,EAAEoC,GAAG,QAAQ,SAAS3D,GAAGA,EAAE8D,iBAAiB5C","file":"video_aqua.js","sourcesContent":["window.requirejs([\"jquery\",\"axios\",\"aquaNManagerService\",\"easyTimer\",\"jqueryTimer\"],function(e,t,n,i){function a(){e.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:u.data(\"training-user-id\"),course_id:u.data(\"course-id\"),course_list_id:u.data(\"course-list-id\")}}).done(function(e){e.success||console.error(e.msg)})}function o(){e.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:u.data(\"training-user-id\"),course_id:u.data(\"course-id\"),course_list_id:u.data(\"course-list-id\")}}).done(function(e){e.success?window.location.href=f:console.error(e.msg)})}function r(){\"done\"===u.data(\"status\")&&(l.removeClass(\"blind\"),_.addClass(\"blind\"))}function s(){return t.delete(\"/video/log\",{params:{video_id:u.data(\"id\")}}).then(function(e){}).catch(function(e){console.error(e)})}function d(){return t.delete(\"/session/log\",{params:{training_user_id:u.data(\"training-user-id\"),course_list_id:u.data(\"course-list-id\")}}).then(function(e){}).catch(function(e){console.error(e)})}var u=e(\".videoplayer\"),c=e(\"#btn_play_video\"),l=e(\"#btn_play_next\"),f=l.parent().attr(\"href\"),_=e(\"#btn_replay_video\"),g=e(\"#countdown .values\"),m=new i;e(function(){var i={videoUrl:\"cdnetworks.mp4\",trainingUserId:u.data(\"training-user-id\"),courseId:u.data(\"course-id\"),courseListId:u.data(\"course-list-id\"),videoId:u.data(\"id\"),videoStatus:u.data(\"status\"),totalPlayedSeconds:u.data(\"total-play\")};n=new n(i),\"1\"==u.data(\"confirm\")&&(e(\".timer\").removeClass(\"blind\"),setTimeout(function(){m.start({countdown:!0,startValues:{seconds:30}}),g.html(m.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\"),m.addEventListener(\"secondsUpdated\",function(e){g.html(m.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\")}),m.addEventListener(\"targetAchieved\",function(e){g.html(\"학습 초기화 중입니다..\"),setTimeout(function(){window.alert(\"30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\\n\\n재시청 해주시기 바랍니다.\"),t.all([s(),d()]).then(t.spread(function(e,t){window.location.reload()}))},3e3)})},1e3)),r()}),c.on(\"click\",function(){m.reset(),a(),n.startPlayer()}),l.on(\"click\",function(e){e.preventDefault(),o()})});"],"sourceRoot":"/source/"}