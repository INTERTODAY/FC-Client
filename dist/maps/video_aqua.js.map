{"version":3,"sources":["video_aqua.js"],"names":["window","requirejs","t","e","n","i","a","ajax","type","url","data","training_user_id","c","course_id","course_list_id","done","success","console","error","msg","o","location","href","_","r","f","removeClass","g","addClass","s","delete","params","video_id","then","catch","d","u","l","parent","attr","m","videoUrl","trainingUserId","courseId","courseListId","videoId","videoStatus","totalPlayedSeconds","setTimeout","start","countdown","startValues","seconds","html","getTimeValues","toString","addEventListener","alert","all","spread","reload","on","startPlayer","preventDefault"],"mappings":"YAAAA,QAAOC,WAAW,SAAS,QAAQ,sBAAsB,YAAY,eAAe,SAASC,EAAEC,EAAEC,EAAEC,GAAG,QAASC,KAAIJ,EAAEK,MAAMC,KAAK,OAAOC,IAAI,yBAAyBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,SAASC,QAAQC,MAAMhB,EAAEiB,OAAO,QAASC,KAAIlB,EAAEK,MAAMC,KAAK,OAAOC,IAAI,uBAAuBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,QAAQhB,OAAOqB,SAASC,KAAKC,EAAEN,QAAQC,MAAMhB,EAAEiB,OAAO,QAASK,KAAI,SAASZ,EAAEF,KAAK,YAAYe,EAAEC,YAAY,SAASC,EAAEC,SAAS,UAAU,QAASC,KAAI,MAAO1B,GAAE2B,OAAO,cAAcC,QAAQC,SAASpB,EAAEF,KAAK,SAASuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,QAASiC,KAAI,MAAOhC,GAAE2B,OAAO,gBAAgBC,QAAQpB,iBAAiBC,EAAEF,KAAK,oBAAoBI,eAAeF,EAAEF,KAAK,qBAAqBuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,GAAIkC,GAAExB,EAAEV,EAAE,gBAAgBmC,EAAEnC,EAAE,mBAAmBuB,EAAEvB,EAAE,kBAAkBqB,EAAEE,EAAEa,SAASC,KAAK,QAAQZ,EAAEzB,EAAE,qBAAqBsC,EAAEtC,EAAE,qBAAsBA,GAAE,WAAW,GAAII,IAAGmC,SAAS,iBAAiBC,eAAe9B,EAAEF,KAAK,oBAAoBiC,SAAS/B,EAAEF,KAAK,aAAakC,aAAahC,EAAEF,KAAK,kBAAkBmC,QAAQjC,EAAEF,KAAK,MAAMoC,YAAYlC,EAAEF,KAAK,UAAUqC,mBAAmBnC,EAAEF,KAAK,cAAeN,GAAE,GAAIA,GAAEE,GAAG,KAAKM,EAAEF,KAAK,aAAaR,EAAE,UAAUwB,YAAY,SAASsB,WAAW,WAAWZ,EAAE,GAAI/B,GAAE+B,EAAEa,OAAOC,WAAU,EAAGC,aAAaC,QAAQ,MAAMZ,EAAEa,KAAKjB,EAAEkB,gBAAgBC,WAAW,+BAA+BnB,EAAEoB,iBAAiB,iBAAiB,SAAStD,GAAGsC,EAAEa,KAAKjB,EAAEkB,gBAAgBC,WAAW,iCAAiCnB,EAAEoB,iBAAiB,iBAAiB,SAAStD,GAAGsC,EAAEa,KAAK,iBAAiBL,WAAW,WAAWhD,OAAOyD,MAAM,yDAAyDtD,EAAEuD,KAAK7B,IAAIM,MAAMF,KAAK9B,EAAEwD,OAAO,SAASzD,EAAEC,GAAGH,OAAOqB,SAASuC,aAAa,QAAQ,MAAMpC,MAAMa,EAAEwB,GAAG,QAAQ,WAAWvD,IAAIF,EAAE0D,gBAAgBrC,EAAEoC,GAAG,QAAQ,SAAS3D,GAAGA,EAAE6D,iBAAiB3C","file":"video_aqua.js","sourcesContent":["window.requirejs([\"jquery\",\"axios\",\"aquaNManagerService\",\"easyTimer\",\"jqueryTimer\"],function(t,e,n,i){function a(){t.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(t){t.success||console.error(t.msg)})}function o(){t.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(t){t.success?window.location.href=_:console.error(t.msg)})}function r(){\"done\"===c.data(\"status\")&&(f.removeClass(\"blind\"),g.addClass(\"blind\"))}function s(){return e.delete(\"/video/log\",{params:{video_id:c.data(\"id\")}}).then(function(t){}).catch(function(t){console.error(t)})}function d(){return e.delete(\"/session/log\",{params:{training_user_id:c.data(\"training-user-id\"),course_list_id:c.data(\"course-list-id\")}}).then(function(t){}).catch(function(t){console.error(t)})}var u,c=t(\".videoplayer\"),l=t(\"#btn_play_video\"),f=t(\"#btn_play_next\"),_=f.parent().attr(\"href\"),g=t(\"#btn_replay_video\"),m=t(\"#countdown .values\");t(function(){var a={videoUrl:\"cdnetworks.mp4\",trainingUserId:c.data(\"training-user-id\"),courseId:c.data(\"course-id\"),courseListId:c.data(\"course-list-id\"),videoId:c.data(\"id\"),videoStatus:c.data(\"status\"),totalPlayedSeconds:c.data(\"total-play\")};n=new n(a),\"1\"==c.data(\"confirm\")&&(t(\".timer\").removeClass(\"blind\"),setTimeout(function(){u=new i,u.start({countdown:!0,startValues:{seconds:30}}),m.html(u.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\"),u.addEventListener(\"secondsUpdated\",function(t){m.html(u.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\")}),u.addEventListener(\"targetAchieved\",function(t){m.html(\"학습 초기화 중입니다..\"),setTimeout(function(){window.alert(\"30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\\n\\n재시청 해주시기 바랍니다.\"),e.all([s(),d()]).then(e.spread(function(t,e){window.location.reload()}))},3e3)})},1e3)),r()}),l.on(\"click\",function(){a(),n.startPlayer()}),f.on(\"click\",function(t){t.preventDefault(),o()})});"],"sourceRoot":"/source/"}