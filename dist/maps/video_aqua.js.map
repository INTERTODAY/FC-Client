{"version":3,"sources":["video_aqua.js"],"names":["window","requirejs","e","t","n","i","a","ajax","type","url","data","training_user_id","u","course_id","course_list_id","done","success","console","error","msg","o","location","href","f","s","l","removeClass","g","addClass","r","delete","params","video_id","then","catch","d","c","parent","attr","_","videoUrl","trainingUserId","courseId","courseListId","videoId","videoStatus","totalPlayedSeconds","setTimeout","start","countdown","startValues","seconds","html","getTimeValues","toString","addEventListener","alert","all","spread","log","on","startPlayer","preventDefault"],"mappings":"YAAAA,QAAOC,WAAW,SAAS,QAAQ,sBAAsB,YAAY,eAAe,SAASC,EAAEC,EAAEC,EAAEC,GAAG,QAASC,KAAIJ,EAAEK,MAAMC,KAAK,OAAOC,IAAI,yBAAyBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,SAASC,QAAQC,MAAMhB,EAAEiB,OAAO,QAASC,KAAIlB,EAAEK,MAAMC,KAAK,OAAOC,IAAI,uBAAuBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,QAAQhB,OAAOqB,SAASC,KAAKC,EAAEN,QAAQC,MAAMhB,EAAEiB,OAAO,QAASK,KAAI,SAASZ,EAAEF,KAAK,YAAYe,EAAEC,YAAY,SAASC,EAAEC,SAAS,UAAU,QAASC,KAAI,MAAO1B,GAAE2B,OAAO,cAAcC,QAAQC,SAASpB,EAAEF,KAAK,SAASuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,QAASiC,KAAI,MAAOhC,GAAE2B,OAAO,gBAAgBC,QAAQpB,iBAAiBC,EAAEF,KAAK,oBAAoBI,eAAeF,EAAEF,KAAK,qBAAqBuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,GAAIU,GAAEV,EAAE,gBAAgBkC,EAAElC,EAAE,mBAAmBuB,EAAEvB,EAAE,kBAAkBqB,EAAEE,EAAEY,SAASC,KAAK,QAAQX,EAAEzB,EAAE,qBAAqBqC,EAAErC,EAAE,qBAAsBA,GAAE,WAAW,GAAII,IAAGkC,SAAS,iBAAiBC,eAAe7B,EAAEF,KAAK,oBAAoBgC,SAAS9B,EAAEF,KAAK,aAAaiC,aAAa/B,EAAEF,KAAK,kBAAkBkC,QAAQhC,EAAEF,KAAK,MAAMmC,YAAYjC,EAAEF,KAAK,UAAUoC,mBAAmBlC,EAAEF,KAAK,cAAeN,GAAE,GAAIA,GAAEE,GAAG,KAAKM,EAAEF,KAAK,aAAaR,EAAE,UAAUwB,YAAY,SAASqB,WAAW,WAAW,GAAI7C,GAAE,GAAIG,EAAEH,GAAE8C,OAAOC,WAAU,EAAGC,aAAaC,QAAQ,MAAMZ,EAAEa,KAAKlD,EAAEmD,gBAAgBC,WAAW,+BAA+BpD,EAAEqD,iBAAiB,iBAAiB,SAASpD,GAAGoC,EAAEa,KAAKlD,EAAEmD,gBAAgBC,WAAW,iCAAiCpD,EAAEqD,iBAAiB,iBAAiB,SAASrD,GAAGqC,EAAEa,KAAK,iBAAiBL,WAAW,WAAW/C,OAAOwD,MAAM,yDAAyDrD,EAAEsD,KAAK5B,IAAIM,MAAMF,KAAK9B,EAAEuD,OAAO,SAASxD,EAAEC,GAAGc,QAAQ0C,IAAIzD,EAAG,IAAIE,GAAE,YAAYQ,EAAEF,KAAK,oBAAoB,IAAIE,EAAEF,KAAK,aAAa,IAAIE,EAAEF,KAAK,iBAAkBO,SAAQ0C,IAAIvD,GAAGJ,OAAOqB,SAASC,KAAKlB,MAAM,QAAQ,MAAMoB,MAAMY,EAAEwB,GAAG,QAAQ,WAAWtD,IAAIF,EAAEyD,gBAAgBpC,EAAEmC,GAAG,QAAQ,SAAS1D,GAAGA,EAAE4D,iBAAiB1C","file":"video_aqua.js","sourcesContent":["window.requirejs([\"jquery\",\"axios\",\"aquaNManagerService\",\"easyTimer\",\"jqueryTimer\"],function(e,t,n,i){function a(){e.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:u.data(\"training-user-id\"),course_id:u.data(\"course-id\"),course_list_id:u.data(\"course-list-id\")}}).done(function(e){e.success||console.error(e.msg)})}function o(){e.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:u.data(\"training-user-id\"),course_id:u.data(\"course-id\"),course_list_id:u.data(\"course-list-id\")}}).done(function(e){e.success?window.location.href=f:console.error(e.msg)})}function s(){\"done\"===u.data(\"status\")&&(l.removeClass(\"blind\"),g.addClass(\"blind\"))}function r(){return t.delete(\"/video/log\",{params:{video_id:u.data(\"id\")}}).then(function(e){}).catch(function(e){console.error(e)})}function d(){return t.delete(\"/session/log\",{params:{training_user_id:u.data(\"training-user-id\"),course_list_id:u.data(\"course-list-id\")}}).then(function(e){}).catch(function(e){console.error(e)})}var u=e(\".videoplayer\"),c=e(\"#btn_play_video\"),l=e(\"#btn_play_next\"),f=l.parent().attr(\"href\"),g=e(\"#btn_replay_video\"),_=e(\"#countdown .values\");e(function(){var a={videoUrl:\"cdnetworks.mp4\",trainingUserId:u.data(\"training-user-id\"),courseId:u.data(\"course-id\"),courseListId:u.data(\"course-list-id\"),videoId:u.data(\"id\"),videoStatus:u.data(\"status\"),totalPlayedSeconds:u.data(\"total-play\")};n=new n(a),\"1\"==u.data(\"confirm\")&&(e(\".timer\").removeClass(\"blind\"),setTimeout(function(){var e=new i;e.start({countdown:!0,startValues:{seconds:30}}),_.html(e.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\"),e.addEventListener(\"secondsUpdated\",function(t){_.html(e.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\")}),e.addEventListener(\"targetAchieved\",function(e){_.html(\"학습 초기화 중입니다..\"),setTimeout(function(){window.alert(\"30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\\n\\n재시청 해주시기 바랍니다.\"),t.all([r(),d()]).then(t.spread(function(e,t){console.log(e);var n=\"/session/\"+u.data(\"training-user-id\")+\"/\"+u.data(\"course-id\")+\"/\"+u.data(\"course-list-id\");console.log(n),window.location.href=n}))},3e3)})},1e3)),s()}),c.on(\"click\",function(){a(),n.startPlayer()}),l.on(\"click\",function(e){e.preventDefault(),o()})});"],"sourceRoot":"/source/"}