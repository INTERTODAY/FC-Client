{"version":3,"sources":["video_aqua.js"],"names":["window","requirejs","e","t","n","i","a","ajax","type","url","data","training_user_id","c","course_id","course_list_id","done","success","console","error","msg","o","location","href","g","s","f","removeClass","_","addClass","r","delete","params","video_id","then","catch","d","u","l","parent","attr","m","videoUrl","trainingUserId","courseId","courseListId","videoId","videoStatus","totalPlayedSeconds","setTimeout","start","countdown","startValues","seconds","html","getTimeValues","toString","addEventListener","alert","all","spread","log","on","startPlayer","preventDefault"],"mappings":"YAAAA,QAAOC,WAAW,SAAS,QAAQ,sBAAsB,YAAY,eAAe,SAASC,EAAEC,EAAEC,EAAEC,GAAG,QAASC,KAAIJ,EAAEK,MAAMC,KAAK,OAAOC,IAAI,yBAAyBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,SAASC,QAAQC,MAAMhB,EAAEiB,OAAO,QAASC,KAAIlB,EAAEK,MAAMC,KAAK,OAAOC,IAAI,uBAAuBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASb,GAAGA,EAAEc,QAAQhB,OAAOqB,SAASC,KAAKC,EAAEN,QAAQC,MAAMhB,EAAEiB,OAAO,QAASK,KAAI,SAASZ,EAAEF,KAAK,YAAYe,EAAEC,YAAY,SAASC,EAAEC,SAAS,UAAU,QAASC,KAAI,MAAO1B,GAAE2B,OAAO,cAAcC,QAAQC,SAASpB,EAAEF,KAAK,SAASuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,QAASiC,KAAI,MAAOhC,GAAE2B,OAAO,gBAAgBC,QAAQpB,iBAAiBC,EAAEF,KAAK,oBAAoBI,eAAeF,EAAEF,KAAK,qBAAqBuB,KAAK,SAAS/B,MAAMgC,MAAM,SAAShC,GAAGe,QAAQC,MAAMhB,KAAK,GAAIkC,GAAExB,EAAEV,EAAE,gBAAgBmC,EAAEnC,EAAE,mBAAmBuB,EAAEvB,EAAE,kBAAkBqB,EAAEE,EAAEa,SAASC,KAAK,QAAQZ,EAAEzB,EAAE,qBAAqBsC,EAAEtC,EAAE,qBAAsBA,GAAE,WAAW,GAAII,IAAGmC,SAAS,iBAAiBC,eAAe9B,EAAEF,KAAK,oBAAoBiC,SAAS/B,EAAEF,KAAK,aAAakC,aAAahC,EAAEF,KAAK,kBAAkBmC,QAAQjC,EAAEF,KAAK,MAAMoC,YAAYlC,EAAEF,KAAK,UAAUqC,mBAAmBnC,EAAEF,KAAK,cAAeN,GAAE,GAAIA,GAAEE,GAAG,KAAKM,EAAEF,KAAK,aAAaR,EAAE,UAAUwB,YAAY,SAASsB,WAAW,WAAWZ,EAAE,GAAI/B,GAAE+B,EAAEa,OAAOC,WAAU,EAAGC,aAAaC,QAAQ,MAAMZ,EAAEa,KAAKjB,EAAEkB,gBAAgBC,WAAW,+BAA+BnB,EAAEoB,iBAAiB,iBAAiB,SAAStD,GAAGsC,EAAEa,KAAKjB,EAAEkB,gBAAgBC,WAAW,iCAAiCnB,EAAEoB,iBAAiB,iBAAiB,SAAStD,GAAGsC,EAAEa,KAAK,iBAAiBL,WAAW,WAAWhD,OAAOyD,MAAM,yDAAyDtD,EAAEuD,KAAK7B,IAAIM,MAAMF,KAAK9B,EAAEwD,OAAO,SAASzD,EAAEC,GAAGc,QAAQ2C,IAAI1D,EAAG,IAAIE,GAAE,YAAYQ,EAAEF,KAAK,oBAAoB,IAAIE,EAAEF,KAAK,aAAa,IAAIE,EAAEF,KAAK,iBAAkBO,SAAQ2C,IAAIxD,GAAGJ,OAAOqB,SAASC,KAAKlB,MAAM,QAAQ,MAAMoB,MAAMa,EAAEwB,GAAG,QAAQ,WAAWvD,IAAIF,EAAE0D,gBAAgBrC,EAAEoC,GAAG,QAAQ,SAAS3D,GAAGA,EAAE6D,iBAAiB3C","file":"video_aqua.js","sourcesContent":["window.requirejs([\"jquery\",\"axios\",\"aquaNManagerService\",\"easyTimer\",\"jqueryTimer\"],function(e,t,n,i){function a(){e.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(e){e.success||console.error(e.msg)})}function o(){e.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(e){e.success?window.location.href=g:console.error(e.msg)})}function s(){\"done\"===c.data(\"status\")&&(f.removeClass(\"blind\"),_.addClass(\"blind\"))}function r(){return t.delete(\"/video/log\",{params:{video_id:c.data(\"id\")}}).then(function(e){}).catch(function(e){console.error(e)})}function d(){return t.delete(\"/session/log\",{params:{training_user_id:c.data(\"training-user-id\"),course_list_id:c.data(\"course-list-id\")}}).then(function(e){}).catch(function(e){console.error(e)})}var u,c=e(\".videoplayer\"),l=e(\"#btn_play_video\"),f=e(\"#btn_play_next\"),g=f.parent().attr(\"href\"),_=e(\"#btn_replay_video\"),m=e(\"#countdown .values\");e(function(){var a={videoUrl:\"cdnetworks.mp4\",trainingUserId:c.data(\"training-user-id\"),courseId:c.data(\"course-id\"),courseListId:c.data(\"course-list-id\"),videoId:c.data(\"id\"),videoStatus:c.data(\"status\"),totalPlayedSeconds:c.data(\"total-play\")};n=new n(a),\"1\"==c.data(\"confirm\")&&(e(\".timer\").removeClass(\"blind\"),setTimeout(function(){u=new i,u.start({countdown:!0,startValues:{seconds:30}}),m.html(u.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\"),u.addEventListener(\"secondsUpdated\",function(e){m.html(u.getTimeValues().toString()+\" 초 이내 <b>다음</b> 버튼을 클릭해주세요.\")}),u.addEventListener(\"targetAchieved\",function(e){m.html(\"학습 초기화 중입니다..\"),setTimeout(function(){window.alert(\"30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\\n\\n재시청 해주시기 바랍니다.\"),t.all([r(),d()]).then(t.spread(function(e,t){console.log(e);var n=\"/session/\"+c.data(\"training-user-id\")+\"/\"+c.data(\"course-id\")+\"/\"+c.data(\"course-list-id\");console.log(n),window.location.href=n}))},3e3)})},1e3)),s()}),l.on(\"click\",function(){a(),n.startPlayer()}),f.on(\"click\",function(e){e.preventDefault(),o()})});"],"sourceRoot":"/source/"}