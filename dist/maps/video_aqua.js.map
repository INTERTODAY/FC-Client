{"version":3,"sources":["video_aqua.js"],"names":["window","requirejs","t","e","i","a","ajax","type","url","data","training_user_id","c","course_id","course_list_id","done","success","console","error","msg","n","location","href","f","o","l","removeClass","_","addClass","s","g","html","p","m","stop","alert","all","r","d","then","spread","log","delete","params","video_id","catch","u","parent","attr","videoUrl","trainingUserId","courseId","courseListId","videoId","videoStatus","totalPlayedSeconds","setTimeout","timer","on","startPlayer","preventDefault"],"mappings":"YAAAA,QAAOC,WAAW,SAAS,QAAQ,sBAAsB,eAAe,SAASC,EAAEC,EAAEC,GAAG,QAASC,KAAIH,EAAEI,MAAMC,KAAK,OAAOC,IAAI,yBAAyBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASZ,GAAGA,EAAEa,SAASC,QAAQC,MAAMf,EAAEgB,OAAO,QAASC,KAAIjB,EAAEI,MAAMC,KAAK,OAAOC,IAAI,uBAAuBC,MAAMC,iBAAiBC,EAAEF,KAAK,oBAAoBG,UAAUD,EAAEF,KAAK,aAAaI,eAAeF,EAAEF,KAAK,qBAAqBK,KAAK,SAASZ,GAAGA,EAAEa,QAAQf,OAAOoB,SAASC,KAAKC,EAAEN,QAAQC,MAAMf,EAAEgB,OAAO,QAASK,KAAI,SAASZ,EAAEF,KAAK,YAAYe,EAAEC,YAAY,SAASC,EAAEC,SAAS,UAAU,QAASC,KAAIC,EAAEC,KAAK,MAAMC,EAAE,cAAcA,GAAG,IAAIC,EAAEC,OAAOjC,OAAOkC,MAAM,uBAAuB/B,EAAEgC,KAAKC,IAAIC,MAAMC,KAAKnC,EAAEoC,OAAO,SAASrC,EAAEC,GAAGa,QAAQwB,IAAItC,EAAG,IAAIE,GAAE,YAAYO,EAAEF,KAAK,oBAAoB,IAAIE,EAAEF,KAAK,aAAa,IAAIE,EAAEF,KAAK,iBAAkBO,SAAQwB,IAAIpC,GAAGJ,OAAOoB,SAASC,KAAKjB,MAAM2B,GAAG,EAAE,QAASK,KAAI,MAAOjC,GAAEsC,OAAO,cAAcC,QAAQC,SAAShC,EAAEF,KAAK,SAAS6B,KAAK,SAASpC,MAAM0C,MAAM,SAAS1C,GAAGc,QAAQC,MAAMf,KAAK,QAASmC,KAAI,MAAOlC,GAAEsC,OAAO,gBAAgBC,QAAQhC,iBAAiBC,EAAEF,KAAK,oBAAoBI,eAAeF,EAAEF,KAAK,qBAAqB6B,KAAK,SAASpC,MAAM0C,MAAM,SAAS1C,GAAGc,QAAQC,MAAMf,KAAK,GAAIS,GAAET,EAAE,gBAAgB2C,EAAE3C,EAAE,mBAAmBsB,EAAEtB,EAAE,kBAAkBoB,EAAEE,EAAEsB,SAASC,KAAK,QAAQrB,EAAExB,EAAE,qBAAqB2B,EAAE3B,EAAE,iBAAiB8B,EAAE,KAAKD,EAAEpB,EAAEF,KAAK,eAAgBP,GAAE,WAAW,GAAIC,IAAG6C,SAAS,iBAAiBC,eAAetC,EAAEF,KAAK,oBAAoByC,SAASvC,EAAEF,KAAK,aAAa0C,aAAaxC,EAAEF,KAAK,kBAAkB2C,QAAQzC,EAAEF,KAAK,MAAM4C,YAAY1C,EAAEF,KAAK,UAAU6C,mBAAmB3C,EAAEF,KAAK,cAAeL,GAAE,GAAIA,GAAED,GAAG,KAAKQ,EAAEF,KAAK,YAAY8C,WAAW,WAAWvB,EAAE9B,EAAEsD,MAAM,IAAI5B,GAAE,IAAK,KAAKL,MAAMsB,EAAEY,GAAG,QAAQ,WAAWpD,IAAID,EAAEsD,gBAAgBlC,EAAEiC,GAAG,QAAQ,SAASvD,GAAGA,EAAEyD,iBAAiBxC","file":"video_aqua.js","sourcesContent":["window.requirejs([\"jquery\",\"axios\",\"aquaNManagerService\",\"jqueryTimer\"],function(t,e,i){function a(){t.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(t){t.success||console.error(t.msg)})}function n(){t.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:c.data(\"training-user-id\"),course_id:c.data(\"course-id\"),course_list_id:c.data(\"course-list-id\")}}).done(function(t){t.success?window.location.href=f:console.error(t.msg)})}function o(){\"done\"===c.data(\"status\")&&(l.removeClass(\"blind\"),_.addClass(\"blind\"))}function s(){g.html(\" ( \"+p+\" 초 이내 클릭 )\"),p<=0&&(m.stop(),window.alert(\"비디오를 재시청 해주시기 바랍니다.\"),e.all([r(),d()]).then(e.spread(function(t,e){console.log(t);var i=\"/session/\"+c.data(\"training-user-id\")+\"/\"+c.data(\"course-id\")+\"/\"+c.data(\"course-list-id\");console.log(i),window.location.href=i}))),p-=1}function r(){return e.delete(\"/video/log\",{params:{video_id:c.data(\"id\")}}).then(function(t){}).catch(function(t){console.error(t)})}function d(){return e.delete(\"/session/log\",{params:{training_user_id:c.data(\"training-user-id\"),course_list_id:c.data(\"course-list-id\")}}).then(function(t){}).catch(function(t){console.error(t)})}var c=t(\".videoplayer\"),u=t(\"#btn_play_video\"),l=t(\"#btn_play_next\"),f=l.parent().attr(\"href\"),_=t(\"#btn_replay_video\"),g=t(\".wait-message\"),m=null,p=c.data(\"wait-seconds\");t(function(){var e={videoUrl:\"cdnetworks.mp4\",trainingUserId:c.data(\"training-user-id\"),courseId:c.data(\"course-id\"),courseListId:c.data(\"course-list-id\"),videoId:c.data(\"id\"),videoStatus:c.data(\"status\"),totalPlayedSeconds:c.data(\"total-play\")};i=new i(e),\"1\"==c.data(\"confirm\")&&setTimeout(function(){m=t.timer(1e3,s,!0)},1e3),o()}),u.on(\"click\",function(){a(),i.startPlayer()}),l.on(\"click\",function(t){t.preventDefault(),n()})});"],"sourceRoot":"/source/"}