{"version":3,"sources":["common.js"],"names":["window","define","require","$","axios","get","polyfill","res","data","forEach","list","length","show","notice","duration","append","id","title","marquee","pauseOnHover","direction","console","getAllUrlParams","err","error","url","queryString","split","location","search","slice","obj","arr","paramName","replace","i","paramNum","a","paramValue","v","push","navigator","getOSName","OSName","appVersion","indexOf"],"mappings":"AAAA,YACAA,QAAOC,QAAPD,SAMEA,QACA,cACAE,iBAHC,SAAUC,EAAGC,GAyCV,MApCJD,QAAEC,MAAYA,EAEZA,QAAMC,eAAIC,WAGNH,EAAA,WAHJC,EAAMC,IAAI,mBAMJE,KAAIC,SAAUC,GAAdF,EAAAC,KAAAE,KAAAC,OAAA,IAFAR,EAAE,YAAYS,OAOZL,EAAAC,KAAAE,KAAAD,QAAA,SAAAI,GACAC,EAAAA,YAFoBC,OAAA,wBAAAF,EAAAG,GAAA,KAAAH,EAAAI,MAAA,eAKpBd,EAAA,YAAAe,SAEAJ,SAAA,IAEAK,IAAAA,GAEHC,UAAA,KAGDC,YAAA,EAxBJF,cAAA,OA6BAG,MAAAA,SAAiBC,GACfF,QAAAG,MAAAD,QADFD,gBAAiB,SAAUG,GAQzB,GAAIC,GAAaD,EAAAA,EAAAE,MAAA,KAAA,GAAA3B,OAAA4B,SAAAC,OAAAC,MAAA,GAHbC,IAGJ,IAAIL,EAAa,CAQbA,EAAAA,EAAAC,MAAA,KAAA,EAKA,KAAA,GAFAK,GAAAN,EAAAC,MAAA,KAEIM,EAAAA,EAAAA,EAAcD,EAAGE,OAAQC,IAAA,CAE3B,GAGFC,GAHEC,EAAAL,EAAAG,GAAAR,MAAA,KAIEW,EAAAA,EAAa,GAAAJ,QAAA,UAAkB,SAAcK,GAEjD,MAPEH,GAAWG,EAAET,MAAM,GAAI,GAOzB,KAIAQ,MAAA,KAAAD,EAAA,IAAAA,EAAA,EAGEJ,GAAIA,EAAWA,cACbF,EAAIE,EAAcF,cAGpBA,EAAIE,IAEkBK,gBAAhBL,GAAJA,KAFFF,EAAAE,IAGOF,EAAAE,SAGUG,KAAXH,EAZRF,EAcOE,GAAAO,KAAAF,GAIRP,EAAAE,GAAAG,GAAAE,GArDAP,EAAAE,GAAAK,GA8DH,MAAIG,IAGJC,UAAID,WALJ,GAAIE,GAAS,YAOb,QACD,IAAAF,UAAAG,WAAAC,QAAA,SAAAF,EAAA,YApEH,IAAAF,UAAAG,WAAAC,QAAA,SAAAF,EAAA,UAxCF,IAAAF,UAAAG,WAAAC,QAAA,SAAAF,EAAA,SAyGqD,IAA3CF,UAAUG,WAAWC,QAAQ,WAAiBF,EAAS,SAEpDA","file":"../javascripts/common.js","sourcesContent":["'use strict';\nwindow.define([\n  'jquery',\n  'axios',\n  'es6-promise',\n  'jqueryMarquee'\n], function ($, axios) {\n  window.axios = axios;\n  // https://github.com/stefanpenner/es6-promise 참고\n  require('es6-promise').polyfill();\n\n  $(function () {\n    // 공지사항 조회\n    axios.get('/api/v1/notices')\n      .then(function (res) {\n        // console.log(res.data.list);\n        if (res.data.list.length > 0) {\n          $('.marquee').show();\n\n          res.data.list.forEach(notice => {\n            $('.marquee').append('<li><a href=\"/notice/' + notice.id + '\">' + notice.title + '</a></li>');\n          });\n\n          $('.marquee').marquee({\n            // duration in milliseconds of the marquee\n            duration: 5000,\n            // gap in pixels between the tickers\n            gap: 50,\n            // 'left' or 'right'\n            direction: 'up',\n            // true or false - should the marquee be duplicated to show an effect of continues flow\n            duplicated: true,\n            pauseOnHover: true\n          });\n        }\n      })\n      .catch(function (err) {\n        console.error(err);\n      });\n  });\n\n  return {\n    getAllUrlParams: function (url) {\n      // get query string from url (optional) or window\n      var queryString = url ? url.split('?')[1] : window.location.search.slice(1);\n\n      // we'll store the parameters here\n      var obj = {};\n\n      // if query string exists\n      if (queryString) {\n        // stuff after # is not part of query string, so get rid of it\n        queryString = queryString.split('#')[0];\n\n        // split our query string into its component parts\n        var arr = queryString.split('&');\n\n        for (var i = 0; i < arr.length; i++) {\n          // separate the keys and the values\n          var a = arr[i].split('=');\n\n          // in case params look like: list[]=thing1&list[]=thing2\n          var paramNum;\n          var paramName = a[0].replace(/\\[\\d*\\]/, function (v) {\n            paramNum = v.slice(1, -1);\n            return '';\n          });\n\n          // set parameter value (use 'true' if empty)\n          var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];\n\n          // (optional) keep case consistent\n          paramName = paramName.toLowerCase();\n          paramValue = paramValue.toLowerCase();\n\n          // if parameter name already exists\n          if (obj[paramName]) {\n            // convert value to array (if still string)\n            if (typeof obj[paramName] === 'string') {\n              obj[paramName] = [obj[paramName]];\n            }\n            // if no array index number specified...\n            if (typeof paramNum === 'undefined') {\n              // put the value on the end of the array\n              obj[paramName].push(paramValue);\n            } else {\n              // if array index number specified...\n              // put the value at that index number\n              obj[paramName][paramNum] = paramValue;\n            }\n          } else {\n            // if param name doesn't exist yet, set it\n            obj[paramName] = paramValue;\n          }\n        }\n      }\n\n      return obj;\n    },\n\n    getOSName: function () {\n      var OSName = 'Unknown OS';\n\n      if (navigator.appVersion.indexOf('Win') !== -1) OSName = 'Windows';\n      if (navigator.appVersion.indexOf('Mac') !== -1) OSName = 'MacOS';\n      if (navigator.appVersion.indexOf('X11') !== -1) OSName = 'UNIX';\n      if (navigator.appVersion.indexOf('Linux') !== -1) OSName = 'Linux';\n\n      return OSName;\n    }\n  };\n});\n"]}