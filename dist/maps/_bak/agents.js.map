{"version":3,"sources":["_bak/agents.js"],"names":["requirejs","e","a","t","Number","n","DataTable","paging","lengthChange","searching","ordering","info","autoWidth","r","i","l","u","d","o","c","s","m","b","_","g","v","f","p","on","this","attr","bind","modal","find","val","validate","submitHandler","confirm","rules","create_agent_code","required","minlength","remote","async","url","type","dataFilter","JSON","parse","console","log","success","duplicated","pass","re_pass","equalTo","messages","q","h","y","w","target","balance","sum_balance","min","amount","range","memo","N","k","A","T","j","post","code","suspend","done","H"],"mappings":"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","file":"_bak/agents.js","sourcesContent":["\"use strict\";requirejs([\"jquery\",\"bootstrap\",\"jquery_datatable\",\"bootstrap_datatable\",\"fastclick\",\"jqueryValidate\"],function(e){function a(e,a){return e+a}function t(e,a){return Number(e-a)}var n=e;n(\"#table_agent\").DataTable({paging:!1,lengthChange:!0,searching:!1,ordering:!0,info:!0,autoWidth:!0});var r=n(\"#frm_create_agent\"),i=(n(\".btn-create-agent-submit\"),n(\"#frm_set_agent_password\")),l=(n(\".create-agent-code\"),n(\".pass\")),u=(n(\".re_pass\"),n(\".btn-dropdown-action\")),d=n(\".credit-to\"),o=n(\".debit-to\"),c=n(\".my_balance\"),s=null,m=null,b=null,_=null,g=null,v=null,f=null,p=null;u.on(\"click\",function(){s=n(this).attr(\"data-code\"),m=Number(n(this).attr(\"data-balance\")),b=n(this).attr(\"data-parent_id\"),_=n(this).attr(\"data-layer\"),g=n(this).attr(\"data-suspend\")}),d.bind(\"click\",function(){var e=n(\"#modal_credit_to\");e.modal(\"show\"),e.find(\"#credit_target\").val(s),e.find(\"#credit_balance\").val(m)}),o.bind(\"click\",function(){var e=n(\"#modal_debit_to\");e.modal(\"show\"),e.find(\"#debit_target\").val(s),e.find(\"#debit_balance\").val(m)}),n(\".set-agent-password\").on(\"click\",function(){var e=n(\"#setAgentPassword\");e.modal(\"show\"),e.find(\"#code\").val(s)}),n(\"#select-agent-code\").on(\"change\",function(){var e=n(this).find(\"option:selected\").attr(\"data-layer\");n(\"#agent-layer\").val(e)}),r.validate({submitHandler:function(){var e=confirm(\"작업을 완료하겠습니까?\");return!!e},rules:{create_agent_code:{required:!0,minlength:4,remote:{async:!1,url:\"/api/v1/agent/duplicated\",type:\"post\",dataFilter:function(e){var a=JSON.parse(e);return console.log(a),!a.success||!a.duplicated||'\"이미 사용중인 Agent code 입니다.\"'}}},pass:{required:!0,minlength:4},re_pass:{required:!0,minlength:4,equalTo:l}},messages:{create_agent_code:{required:\"필수로입력하세요\",minlength:\"최소 {0}글자이상이어야 합니다\"},pass:{required:\"필수로입력하세요\",minlength:\"최소 {0}글자이상이어야 합니다\"},re_pass:{required:\"필수로입력하세요\",minlength:\"최소 {0}글자이상이어야 합니다\",equalTo:\"비밀번호가 일치하지 않습니다.\"}}}),i.validate({submitHandler:function(){var e=confirm(\"작업을 완료하겠습니까?\");return!!e},rules:{pass:{required:!0,minlength:4},re_pass:{required:!0,minlength:4,equalTo:\"#set_password\"}},messages:{pass:{required:\"필수로입력하세요\",minlength:\"최소 {0}글자이상이어야 합니다\"},re_pass:{required:\"필수로입력하세요\",minlength:\"최소 {0}글자이상이어야 합니다\",equalTo:\"비밀번호가 일치하지 않습니다.\"}}});var q=n(\"#credit_amount\"),h=n(\"#credit_balance\"),y=n(\"#credit_sum_balance\"),w=(n(\".btn-credit-to-submit\"),n(\"#frm_credit_to\"));q.bind(\"change\",function(){f=Number(h.val()),p=Number(q.val()),v=a(f,p),c.val(t(Number(n(\"#my_current_balance\").val()),p)),y.val(v)}),w.validate({submitHandler:function(){var e=confirm(\"입력하신 Amount : \"+p+\"$ 총합산 Balance : \"+v+\"$가 맞습니까?\");return!!e},rules:{target:{required:!0},balance:{required:!0},sum_balance:{required:!0,min:1},amount:{required:!0,range:[1,n(\"#my_current_balance\").val()]},memo:{required:!0}}});var N=n(\"#debit_amount\"),k=n(\"#debit_balance\"),A=n(\"#debit_sum_balance\"),T=n(\"#frm_debit_to\");N.bind(\"change\",function(){f=Number(k.val()),p=Number(N.val()),v=t(f,p),c.val(a(Number(n(\"#my_current_balance\").val()),p)),A.val(v)}),T.validate({submitHandler:function(){var e=confirm(\"입력하신 Amount : \"+p+\"$ 총합산 Balance : \"+v+\"$가 맞습니까?\");return!!e},rules:{target:{required:!0},sum_balance:{required:!0,min:0},balance:{required:!0},amount:{required:!0,min:1},memo:{required:!0}}});var j=n(\".set-suspend\");j.on(\"click\",function(){var e=confirm(s+\"Agent를 정지 시키겠습니까?\");if(e){var a=s;n.post(\"/api/v1/agent/to/suspend\",{code:a,suspend:1}).done(function(e){console.log(e)})}});var H=n(\".set-wake-up\");H.on(\"click\",function(){var e=confirm(s+\"Agent를 활성화 시키겠습니까?\");if(e){var a=s;n.post(\"/api/v1/agent/to/suspend\",{code:a,suspend:0}).done(function(e){console.log(e)})}})});"],"sourceRoot":"/source/"}