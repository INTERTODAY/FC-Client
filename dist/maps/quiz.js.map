{"version":3,"sources":["quiz.js"],"names":["requirejs","e","t","s","ajax","type","url","data","training_user_id","u","course_id","h","course_list_id","_","course_list_type","f","done","success","console","error","msg","a","location","href","o","r","v","each","this","hasClass","val","children","length","n","removeClass","addClass","i","l","d","quiz_id","quiz_type","iscorrect","answer","attr","trim","p","g","push","text","m","q","join","html","c","on","click","preventDefault","closest"],"mappings":"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","file":"quiz.js","sourcesContent":["\"use strict\";requirejs([\"jquery\"],function(e){function t(){s.ajax({type:\"POST\",url:\"/session/log/starttime\",data:{training_user_id:u,course_id:h,course_list_id:_,course_list_type:f}}).done(function(e){e.success||console.error(e.msg)})}function a(){s.ajax({type:\"POST\",url:\"/session/log/endtime\",data:{training_user_id:u,course_id:h,course_list_id:_,course_list_type:f}}).done(function(e){e.success?location.href=o:console.error(e.msg)})}function r(){var e=!0;return v?e:(s(\".option\").each(function(t){if(s(this).hasClass(\"answer_quiz_input\")){if(\"\"===s(this).val())return e=!1,!1}else if(0===s(this).children().children(\"a\").children(\".ico_checked\").length)return e=!1,!1}),void(e?n.removeClass(\"blind\"):n.addClass(\"blind\")))}function i(){for(var e=s(\".quiz_select\"),t=[],a=0;a<e.length;a++){var r=s(e[a]),i=r.data(\"quiz-type\"),l=r.data(\"quiz-id\"),d=r.data(\"quiz-answer\"),o={quiz_id:l,quiz_type:i,iscorrect:!1,answer:null};if(\"A\"===i)r.attr(\"data-answered\",r.children(\".not-select\").children(\".answer_quiz_input\").val().trim()),r.attr(\"data-iscorrect\",r.attr(\"data-answered\")==d?1:0);else{var v=r.children(\"ol.selection\").children(\"li\"),p=[];r.attr(\"data-iscorrect\",1);for(var g=0;g<v.length;g++){s(v[g]).children(\"a\").children(\".ico_checked\").length>0&&p.push(s(v[g]).children(\"a\").children(\".answer\").text());var m=s(v[g]).attr(\"data-iscorrect\"),q=s(v[g]).children(\"a\").children(\".ico_checked\").length>0;m!=q&&r.attr(\"data-iscorrect\",0),r.attr(\"data-answered\",p.join(\",\"))}}r.children(\".result_quiz\").removeClass(\"correct\"),1!=r.attr(\"data-iscorrect\")?r.children(\".result_quiz\").removeClass(\"blind\").html(\"! 정답은 \"+d+\" 입니다.\"):r.children(\".result_quiz\").removeClass(\"blind\").addClass(\"correct\").html(\"정답입니다.\"),o.iscorrect=r.attr(\"data-iscorrect\"),o.answer=r.attr(\"data-answered\"),t.push(o)}s.ajax({type:\"POST\",url:\"/quiz/log/checkanswer\",data:{data:t,training_user_id:u,course_id:h,course_list_id:_,course_list_type:f}}).done(function(e){e.success?(n.addClass(\"blind\"),c.removeClass(\"blind\")):console.error(e.msg)})}var s=e,c=s(\"#btn_play_next\"),n=s(\"#btn_check_answers\"),l=s(\".answer_quiz_input\"),d=s(\".ico:not(.ico_play)\"),o=c.attr(\"href\"),u=c.data(\"training-user-id\"),h=c.data(\"course-id\"),_=c.data(\"course-list-id\"),f=c.data(\"course-list-type\"),v=!1;s(function(){v=!n.hasClass(\"blind\"),t()}),l.on(\"change keyup\",function(e){r()}),d.click(function(e){e.preventDefault();var t=s(this);t.hasClass(\"ico_checked\")?(t.removeClass(\"ico_checked\"),t.addClass(\"ico_unchecked\"),t.closest(\"a\").attr(\"data-value\",0)):(t.removeClass(\"ico_unchecked\"),t.addClass(\"ico_checked\"),t.closest(\"a\").attr(\"data-value\",1)),r()}),n.on(\"click\",function(e){e.preventDefault(),i()}),c.on(\"click\",function(e){e.preventDefault(),a()})});"],"sourceRoot":"/source/"}