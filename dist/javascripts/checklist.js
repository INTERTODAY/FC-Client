"use strict";window.requirejs(["jquery"],function(t){function e(){t.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:n,course_id:r,course_list_id:d}}).done(function(t){t.success||console.error(t.msg)})}function i(){t.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:n,course_id:r,course_list_id:d}}).done(function(t){t.success?window.location.href=c:console.error(t.msg)})}var s=t("#btn_submit_answers"),a=t("#btn_play_next"),n=a.data("training-user-id"),r=a.data("course-id"),d=a.data("course-list-id"),c=a.attr("href");t(function(){e()}),a.on("click",function(t){t.preventDefault(),i()}),s.on("click",function(e){e.preventDefault();var i=[],c=!0;t(".checklist-item").each(function(e){var s=t(this).data("id"),a=t(this).data("type"),n=t(".checklist[data-id="+s+"]");switch(n.addClass("alert").removeClass("alert"),a){case"write":return""===t(this).val()?(c=!1,n.addClass("alert"),!1):(i.push({id:s,answer:t(this).val()}),!1);default:var r=t(this).find("tr.sample").find("td").find("input:checked").map(function(){return t(this).val()}).get().join();if(""===r)return c=!1,console.log(t(".checklist[data-id="+s+"]")),n.addClass("alert"),!1;i.push({id:s,answer:r})}}),c?t.ajax({type:"POST",url:"/checklist/submit",data:{answers:i,training_user_id:n,course_id:r,course_list_id:d}}).done(function(t){t.success?(window.alert("성실히 답변해주셔서 감사드립니다."),s.addClass("blind"),a.removeClass("blind"),a.click()):console.error(t.msg)}):window.alert("작성하지 않은 항목이 감사합니다")})});