"use strict";window.requirejs(["common","aquaPlayerService","easyTimer","jqueryTimer"],function(e,t,n){function i(){c.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:l.data("training-user-id"),course_id:l.data("course-id"),course_list_id:l.data("course-list-id")}}).done(function(e){e.success||console.error(e.msg)})}function a(){c.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:l.data("training-user-id"),course_id:l.data("course-id"),course_list_id:l.data("course-list-id")}}).done(function(e){e.success?window.location.href=_:console.error(e.msg)})}function o(){"done"===l.data("status")&&(m.removeClass("blind"),g.addClass("blind"))}function r(){return u.delete("/video/log",{params:{video_id:l.data("id")}}).then(function(e){}).catch(function(e){console.error(e)})}function s(){return u.delete("/session/log",{params:{training_user_id:l.data("training-user-id"),course_list_id:l.data("course-list-id")}}).then(function(e){}).catch(function(e){console.error(e)})}var d,c=c||window.$,u=u||window.axios,l=c(".videoplayer"),f=c("#btn_play_video"),m=c("#btn_play_next"),_=m.parent().attr("href"),g=c("#btn_replay_video"),w=c("#countdown .values"),v=new n,h=l.data("autoplay"),p=e.getOSName(),b=c("#aqua_html5"),y=c("#aqua_html5");c(function(){"Windows"===p?b.show():y.show();var e={fileUrl:c("#video").data("url"),watermark:c("#video").data("watermark"),callback:function(e){d=e,console.log(d)}};t=new t(e),"1"===l.data("confirm")&&(c(".timer").removeClass("blind"),setTimeout(function(){v.start({countdown:!0,startValues:{seconds:30}}),w.html(v.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요."),v.addEventListener("secondsUpdated",function(e){w.html(v.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요.")}),v.addEventListener("targetAchieved",function(e){w.html("학습 초기화 중입니다.."),setTimeout(function(){window.alert("30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\n\n재시청 해주시기 바랍니다."),u.all([r(),s()]).then(u.spread(function(e,t){window.location.reload()}))},3e3)})},1e3)),o(),console.log(p),f.on("click",function(){v.stop(),i(),AquaNManagerService.startPlayer()}),h&&f.click()}),m.on("click",function(e){e.preventDefault(),v.stop(),a()})});
//# sourceMappingURL=../maps/video_aqua_pc.js.map
