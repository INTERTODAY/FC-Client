"use strict";window.requirejs(["common","aquaPlayerService","easyTimer","jqueryTimer"],function(e,t,n){function a(){d.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(e){e.success||console.error(e.msg)})}function i(){d.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(e){e.success?window.location.href=f:console.error(e.msg)})}function o(){"done"===c.data("status")&&(l.removeClass("blind"),m.addClass("blind"))}function r(){return axios.delete("/video/log",{params:{video_id:c.data("id")}}).then(function(e){}).catch(function(e){console.error(e)})}function s(){return axios.delete("/session/log",{params:{training_user_id:c.data("training-user-id"),course_list_id:c.data("course-list-id")}}).then(function(e){}).catch(function(e){console.error(e)})}var d=d||window.$,c=d(".videoplayer"),u=d("#btn_play_video"),l=d("#btn_play_next"),f=l.parent().attr("href"),m=d("#btn_replay_video"),_=d("#countdown .values"),g=new n,w=c.data("autoplay"),v=e.getOSName(),h=d("#aqua_html5"),p=d("#aqua_html5");d(function(){"Windows"===v?h.show():p.show();var e={fileUrl:d("#video").data("url"),watermark:d("#video").data("watermark"),callback:function(){}};t=new t(e),"1"==c.data("confirm")&&(d(".timer").removeClass("blind"),setTimeout(function(){g.start({countdown:!0,startValues:{seconds:30}}),_.html(g.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요."),g.addEventListener("secondsUpdated",function(e){_.html(g.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요.")}),g.addEventListener("targetAchieved",function(e){_.html("학습 초기화 중입니다.."),setTimeout(function(){window.alert("30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\n\n재시청 해주시기 바랍니다."),axios.all([r(),s()]).then(axios.spread(function(e,t){window.location.reload()}))},3e3)})},1e3)),o(),console.log(v),u.on("click",function(){g.stop(),a(),AquaNManagerService.startPlayer()}),w&&u.click()}),l.on("click",function(e){e.preventDefault(),g.stop(),i()})});
//# sourceMappingURL=../maps/video_aqua_pc.js.map
