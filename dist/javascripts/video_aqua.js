"use strict";window.requirejs(["jquery","axios","aquaNManagerService","jqueryTimer"],function(t,e,i){function a(){t.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success||console.error(t.msg)})}function n(){t.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success?window.location.href=f:console.error(t.msg)})}function o(){"done"===c.data("status")&&(l.removeClass("blind"),_.addClass("blind"))}function s(){g.html(" ( "+p+" 초 이내 클릭 )"),p<=0&&(m.stop(),window.alert("비디오를 재시청 해주시기 바랍니다."),e.all([r(),d()]).then(e.spread(function(t,e){console.log(t);var i="/session/"+c.data("training-user-id")+"/"+c.data("course-id")+"/"+c.data("course-list-id");console.log(i),window.location.href=i}))),p-=1}function r(){return e.delete("/video/log",{params:{video_id:c.data("id")}}).then(function(t){}).catch(function(t){console.error(t)})}function d(){return e.delete("/session/log",{params:{training_user_id:c.data("training-user-id"),course_list_id:c.data("course-list-id")}}).then(function(t){}).catch(function(t){console.error(t)})}var c=t(".videoplayer"),u=t("#btn_play_video"),l=t("#btn_play_next"),f=l.parent().attr("href"),_=t("#btn_replay_video"),g=t(".wait-message"),m=null,p=c.data("wait-seconds");t(function(){var e={videoUrl:"cdnetworks.mp4",trainingUserId:c.data("training-user-id"),courseId:c.data("course-id"),courseListId:c.data("course-list-id"),videoId:c.data("id"),videoStatus:c.data("status"),totalPlayedSeconds:c.data("total-play")};i=new i(e),"1"==c.data("confirm")&&setTimeout(function(){m=t.timer(1e3,s,!0)},1e3),o()}),u.on("click",function(){a(),i.startPlayer()}),l.on("click",function(t){t.preventDefault(),n()})});
//# sourceMappingURL=../maps/video_aqua.js.map
