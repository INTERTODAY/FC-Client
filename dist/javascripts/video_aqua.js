"use strict";window.requirejs(["jquery","axios","aquaNManagerService","easyTimer","jqueryTimer"],function(t,e,i,n){function a(){t.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:u.data("training-user-id"),course_id:u.data("course-id"),course_list_id:u.data("course-list-id")}}).done(function(t){t.success||console.error(t.msg)})}function o(){t.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:u.data("training-user-id"),course_id:u.data("course-id"),course_list_id:u.data("course-list-id")}}).done(function(t){t.success?window.location.href=f:console.error(t.msg)})}function s(){"done"===u.data("status")&&(l.removeClass("blind"),g.addClass("blind"))}function r(){return e.delete("/video/log",{params:{video_id:u.data("id")}}).then(function(t){}).catch(function(t){console.error(t)})}function d(){return e.delete("/session/log",{params:{training_user_id:u.data("training-user-id"),course_list_id:u.data("course-list-id")}}).then(function(t){}).catch(function(t){console.error(t)})}var u=t(".videoplayer"),c=t("#btn_play_video"),l=t("#btn_play_next"),f=l.parent().attr("href"),g=t("#btn_replay_video"),_=t("#countdown .values");t(function(){var a={videoUrl:"cdnetworks.mp4",trainingUserId:u.data("training-user-id"),courseId:u.data("course-id"),courseListId:u.data("course-list-id"),videoId:u.data("id"),videoStatus:u.data("status"),totalPlayedSeconds:u.data("total-play")};i=new i(a),"1"==u.data("confirm")&&(t(".timer").removeClass("blind"),setTimeout(function(){var t=new n;t.start({countdown:!0,startValues:{seconds:30}}),_.html(t.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요."),t.addEventListener("secondsUpdated",function(e){_.html(t.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요.")}),t.addEventListener("targetAchieved",function(t){_.html("학습 초기화 중입니다.."),setTimeout(function(){window.alert("30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\n\n재시청 해주시기 바랍니다."),e.all([r(),d()]).then(e.spread(function(t,e){console.log(t);var i="/session/"+u.data("training-user-id")+"/"+u.data("course-id")+"/"+u.data("course-list-id");console.log(i),window.location.href=i}))},3e3)})},1e3)),s()}),c.on("click",function(){a(),i.startPlayer()}),l.on("click",function(t){t.preventDefault(),o()})});
//# sourceMappingURL=../maps/video_aqua.js.map
