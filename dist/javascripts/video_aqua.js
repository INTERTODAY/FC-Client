"use strict";window.requirejs(["jquery","axios","aquaNManagerService","common","easyTimer","jqueryTimer"],function(t,e,n,a,i){function o(){t.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success||console.error(t.msg)})}function s(){t.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success?window.location.href=g:console.error(t.msg)})}function r(){"done"===c.data("status")&&(f.removeClass("blind"),m.addClass("blind"))}function d(){return e.delete("/video/log",{params:{video_id:c.data("id")}}).then(function(t){}).catch(function(t){console.error(t)})}function u(){return e.delete("/session/log",{params:{training_user_id:c.data("training-user-id"),course_list_id:c.data("course-list-id")}}).then(function(t){}).catch(function(t){console.error(t)})}var c=t(".videoplayer"),l=t("#btn_play_video"),f=t("#btn_play_next"),g=f.parent().attr("href"),m=t("#btn_replay_video"),_=t("#countdown .values"),v=new i,p=c.data("autoplay"),y=a.getOSName();t(function(){var a={videoUrl:c.data("url"),trainingUserId:c.data("training-user-id"),courseId:c.data("course-id"),courseListId:c.data("course-list-id"),videoId:c.data("id"),videoStatus:c.data("status"),totalPlayedSeconds:c.data("total-play")};n=new n(a),"1"==c.data("confirm")&&(t(".timer").removeClass("blind"),setTimeout(function(){v.start({countdown:!0,startValues:{seconds:30}}),_.html(v.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요."),v.addEventListener("secondsUpdated",function(t){_.html(v.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요.")}),v.addEventListener("targetAchieved",function(t){_.html("학습 초기화 중입니다.."),setTimeout(function(){window.alert("30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\n\n재시청 해주시기 바랍니다."),e.all([d(),u()]).then(e.spread(function(t,e){window.location.reload()}))},3e3)})},1e3)),r(),console.log(y),l.on("click",function(){v.stop(),o(),n.startPlayer()}),p&&l.click()}),f.on("click",function(t){t.preventDefault(),v.stop(),s()})});
//# sourceMappingURL=../maps/video_aqua.js.map
