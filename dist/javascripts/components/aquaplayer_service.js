"use strict";window.define(["common","axplugin","nplayer","nplayer_ui","cdnproxy","nplayer_conf"],function(t,e){function n(t){a=this,a.extendOptions(t),a.init()}var i,o,a=null,l=l||window.$;return n.prototype={options:{},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},extendOptions:function(t){this.options=this.extend({},this.options),this.extend(this.options,t)},init:function(){a.getEncodedParam(),a.resize()},initPlayer:function(){l(window).resize(),a.options.html5="Windows"!==t.getOSName(),a.options.html5?a.initPlayerHTML():"ActiveXObject"in window&&a.initPlayerWindow()},initPlayerHTML:function(){o=new window.NPlayer("video",{controlBox:"nplayer_control.html",visible:!1,mode:"html5"}),window.initNPlayerUI(o),o.bindEvent("Ready",function(){window.setSecurePage(!0),window.proxy_init(function(){window.setPlayerStart(!0),window.setNPlayer(o),window.mygentAuthCall(function(t){window.setMediaInfo(a.options.fileUrl,t);var e=window.getMediaURL(!0);o.open({URL:window.encodeURI(e)}),a.options.callback(o)},i)},window.indicateInstall,window.indicateUpdate)}),o.bindEvent("OpenStateChanged",function(t){switch(t){case window.NPlayer.OpenState.Opened:o.setVisible(!0),window.starthtml5State();break;case window.NPlayer.OpenState.Closed:window.Stophtml5State(window.NPlayer.OpenState.Closed)}}),o.bindEvent("PlayStateChanged",function(t){switch(t){case window.NPlayer.PlayState.Playing:o.setVisible(!0);break;case window.NPlayer.PlayState.Stopped:o.setVisible(!1);break;case window.NPlayer.PlayState.Paused:o.setVisible(!0)}}),o.bindEvent("GuardCallback",function(t,e){a.reportMessage("GuardCallback - "+t+" : "+e)}),o.bindEvent("Error",function(t){a.reportMessage("Error - "+t)})},initPlayerWindow:function(){o=new window.NPlayer("video",{controlBox:"nplayer_control.html",visible:!1});o=o,a.testWatermark(),window.initNPlayerUI(o),o.bindEvent("Ready",function(){o.setCDNAuthParam(i),o.addContextMenu("SystemInfo","sysinfo"),o.open({URL:window.encodeURI(a.options.fileUrl)}),a.options.callback(o)}),o.bindEvent("OpenStateChanged",function(t){switch(t){case window.NPlayer.OpenState.Opened:o.setVisible(!0);break;case window.NPlayer.OpenState.Closed:}}),o.bindEvent("PlayStateChanged",function(t){switch(t){case window.NPlayer.PlayState.Playing:o.setVisible(!0);break;case window.NPlayer.PlayState.Stopped:o.setVisible(!1);break;case window.NPlayer.PlayState.Paused:o.setVisible(!0)}}),o.bindEvent("GuardCallback",function(t,e){}),o.bindEvent("Error",function(t){console.log("err",t),l("#video").css("background-image","none")}),o.bindEvent("ContextMenu",function(t){}),window.onunload=function(){}},getEncodedParam:function(){window.axios.get("/api/v1/player/encparam").then(function(t){i=t.data.encparam,a.initPlayer()}).catch(function(t){a.reportError(t)})},reportMessage:function(t){console.log("aquaservice : "+t)},reportError:function(t){console.log("aquaservice : "+t)},resize:function(){l(window).resize(function(){l("#video").height(l(window).height()-l(".wrapper_foot").height())})},testWatermark:function(){o.setWatermarkText(a.options.watermark),o.setWatermarkSize(15),o.setWatermarkColor(255,0,0,.5),o.setWatermarkInterval(5),o.setWatermarkLocation(22)},testSubtitle:function(){a.testSubtitle1()},testSubtitle1:function(){window.setTimeout(function(){o.setSubtitleFont("궁서",25),o.setSubtitleColor(255,0,0,.5),o.setSubtitlePosition(100,100),o.setSubtitleText("Hello, World - 테스트 1"),a.testSubtitle2()},1e3)},testSubtitle2:function(){window.setTimeout(function(){o.setSubtitleFont("Malgun Gothic",15),o.setSubtitleColor(0,255,0,1),o.setSubtitlePosition(200,50),o.setSubtitleText("Hello, World - 테스트 2"),a.testSubtitle3()},1e3)},testSubtitle3:function(){window.setTimeout(function(){o.setSubtitleFont("굴림",35),o.setSubtitleColor(0,0,255,.7),o.setSubtitlePosition(50,200),o.setSubtitleText("Hello, World - 테스트 3"),a.testSubtitle1()},1e3)}},n});
//# sourceMappingURL=../../maps/components/aquaplayer_service.js.map
